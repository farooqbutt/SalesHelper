<div class="content-wrapper">
    <div class="content-header row">
        <div class="content-header-left col-md-6 col-12 mb-2">
            <h3 class="content-header-title mb-0">All Customers</h3>
        </div>
        <div class="content-header-right col-md-6 col-12 mb-md-0 mb-2">
            <a class="btn btn-primary float-right" asp-controller="Customers" asp-action="AddCustomers">
                <i class="fa fa-plus"></i> Add New Customer
            </a>
        </div>
    </div>
    <div class="content-body">
        <div class="row">
            <div class="col-12">
                <div class="card">
                    <div class="card-content collpase show">
                        <div class="card-body card-dashboard">
                            <table id="customerList" class="table table-striped table-bordered">
                                <thead>
                                    <tr>
                                        <th>Customer Name</th>
                                        <th>Phone No.</th>
                                        <th># of Quotes</th>
                                        <th># of Sales</th>
                                        <th class="text-center"><i class="ficon feather icon-bell mr-1"></i>Event</th>
                                        <th class="text-center"><i class="ficon feather icon-mail mr-1"></i>Message</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    $(document).ready(function () {

        // Get My Vendors List
        $('#customerList').DataTable({
            "ajax": {
                "url": "/Customers/CustomerList",
                "type": "GET",
                "dataType": "json",
                "dataSrc": "data"
            },
            "columns": [
                {
                    "data": null,
                    "render": function (data, type, row) {
                    return `
                            <a href="/Customers/CustomerDetailedView/${data.id}">${data.firstName} ${data.lastName}</a>
                        `;
                    }
                },
                { "data": "cellPhone" },
                { "data": "id" },
                { "data": "id" },
                { 
                    "data": null,
                    "render": function (data, type, row) { 
                        return `
                                <div class="text-center">
                                        <div class="badge badge-pill dropdown-toggle badge-glow badge-danger" data-toggle="dropdown">
                                            <i class="ficon feather icon-bell"></i> 3
                                        </div>
                                    </div>
                            
                            `;
                    }
                },
                {
                    "data": null,
                    "render": function (data, type, row) {
                        return `
                                <div class="text-center">
                                    <div class="badge badge-pill dropdown-toggle badge-glow badge-primary" data-toggle="dropdown">
                                        <i class="ficon feather icon-bell"></i> 3
                                    </div>
                                </div>

                                `;
                    }
                },
                {
                    "data": null,
                    "render": function (data, type, row) {
                    return `
                            <div class="text-center">
                                <span class="dropdown">
                                    <a id="btnSearchDrop6" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true" class="dropdown-toggle dropdown-menu-right"><i class="fa fa-ellipsis-v"></i></a>
                                    <span aria-labelledby="btnSearchDrop6" class="dropdown-menu mt-1 dropdown-menu-right">
                                        <a href="quote-create-new-quote.html" class="dropdown-item">
                                        <i class="fa fa-pencil-square-o primary mr-1"></i>Edit
                                        </a>
                                        <a href="sales-new-sales.html" class="dropdown-item">
                                        <i class="fa fa-trash danger"></i> Delete 
                                        </a>
                                    </span>
                                </span>
                            </div>
                        `;
                    }
                }
            ]
        });
    });

</script>